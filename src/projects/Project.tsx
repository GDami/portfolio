import type { JSX } from "react"
import "./Project.css"
import { ProjectIcon } from "./ProjectIcon"

type ProjectProps = {
    title:string,
    description:string,
    url:string,
    image:string,
    reversed?:boolean,
    technos:string[]
}

const technosTable = new Map<string, JSX.Element>()
technosTable.set("sqlite", <svg fill="currentColor"  version="1.1" xmlns="http://www.w3.org/2000/svg" width="800px" height="800px" viewBox="0 0 512 512" enableBackground="new 0 0 512 512" ><g id="3e91140ac1bfb9903b91c1b0ca091df4"><path display="inline" d="M441.845,11.6c-21.957-19.583-48.547-11.717-74.787,11.573c-3.892,3.459-7.784,7.298-11.647,11.398c-6.067,6.433-12.064,13.629-17.952,21.391c-6.109-2.524-12.788-3.93-19.786-3.93H100.063c-28.769,0-52.308,23.54-52.308,52.308v217.613c0,28.769,23.539,52.307,52.308,52.307H253.14c1.838,10.146,2.911,17.365,2.911,17.365s0.137,1.893,0.366,4.8c-0.844,19.669-0.337,40.063,1.185,58.493c2.02,24.402,5.815,45.361,10.658,56.581l3.285-1.797c-7.106-22.098-9.997-51.063-8.73-84.468c1.913-51.054,13.663-112.629,35.37-176.804c36.678-96.879,87.566-174.608,134.142-211.731c-42.45,38.337-99.904,162.432-117.1,208.386c-19.259,51.459-32.902,99.749-41.13,146.016c14.187-43.374,60.067-62.017,60.067-62.017s22.506-27.749,48.805-67.4c-15.753,3.588-41.619,9.743-50.285,13.382c-12.779,5.36-16.223,7.189-16.223,7.189s41.398-25.211,76.916-36.624C442.224,168.701,495.439,59.408,441.845,11.6zM255.907,237.77c5.042,10.226,8.98,23.275,11.575,33.243c0.663,2.562,1.264,4.961,1.742,7.003c1.142,4.832,1.753,7.968,1.753,7.968s-0.401-1.522-2.053-6.313c-0.313-0.919-0.665-1.922-1.081-3.103c-0.177-0.49-0.422-1.081-0.692-1.713c-2.93-6.804-11.028-21.173-14.594-27.426c-3.048,8.993-5.743,17.407-7.997,25.021c10.29,18.826,16.562,51.096,16.562,51.096s-0.545-2.092-3.129-9.39c-2.298-6.454-13.732-26.494-16.441-31.177c-4.633,17.108-6.473,28.652-4.813,31.472c2.449,4.134,4.807,10.559,6.982,17.965H100.063c-5.67,0-10.461-4.794-10.461-10.463V104.341c0-5.67,4.791-10.461,10.461-10.461h212.236C285.809,139.032,264.509,192.997,255.907,237.77z"></path></g></svg>)
technosTable.set("godot", <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"> <path fill="currentColor" d="M12.745 0.917c-1.458 0.328-2.906 0.781-4.266 1.464 0.031 1.198 0.109 2.344 0.266 3.505-0.526 0.339-1.078 0.63-1.568 1.026-0.5 0.38-1.010 0.75-1.464 1.198-0.906-0.594-1.859-1.156-2.849-1.651-1.063 1.141-2.052 2.375-2.865 3.755 0.609 0.99 1.25 1.911 1.938 2.792h0.016v8.474c0.016 0 0.031 0 0.047 0.005l5.198 0.5c0.271 0.026 0.484 0.245 0.5 0.521l0.161 2.292 4.531 0.323 0.313-2.115c0.042-0.276 0.276-0.479 0.552-0.479h5.484c0.276 0 0.51 0.203 0.552 0.479l0.313 2.115 4.531-0.323 0.161-2.292c0.016-0.276 0.229-0.495 0.505-0.521l5.193-0.5c0.016 0 0.031-0.005 0.047-0.005v-8.474h0.021c0.688-0.875 1.323-1.802 1.932-2.792-0.807-1.38-1.802-2.615-2.865-3.755-0.984 0.495-1.943 1.057-2.849 1.651-0.453-0.448-0.958-0.818-1.458-1.198-0.495-0.396-1.047-0.688-1.573-1.026 0.156-1.161 0.234-2.307 0.266-3.505-1.354-0.682-2.802-1.135-4.266-1.464-0.583 0.984-1.115 2.047-1.578 3.083-0.552-0.089-1.109-0.125-1.661-0.13h-0.026c-0.552 0.005-1.109 0.042-1.661 0.13-0.464-1.036-0.995-2.099-1.583-3.083zM8.635 13.323c1.729 0 3.13 1.406 3.13 3.135s-1.401 3.13-3.13 3.13c-1.729 0-3.13-1.401-3.13-3.13s1.401-3.135 3.13-3.135zM23.365 13.323c1.729 0 3.13 1.406 3.13 3.135s-1.401 3.13-3.13 3.13c-1.729 0-3.13-1.401-3.13-3.13s1.401-3.135 3.13-3.135zM8.932 14.568c-1.146 0-2.078 0.927-2.078 2.078 0 1.146 0.932 2.073 2.078 2.073 1.151 0 2.083-0.927 2.083-2.073 0-1.151-0.932-2.078-2.083-2.078zM23.063 14.568c-1.146 0-2.078 0.927-2.078 2.078 0 1.146 0.932 2.073 2.078 2.073 1.151 0 2.078-0.927 2.078-2.073 0-1.151-0.927-2.078-2.078-2.078zM16 15.172c0.557 0 1.010 0.406 1.010 0.911v2.885c0 0.505-0.453 0.917-1.010 0.917s-1.010-0.411-1.010-0.917v-2.885c0-0.505 0.453-0.911 1.010-0.911zM1.948 22.599c0 0.505 0.005 1.052 0.005 1.161 0 4.938 6.26 7.307 14.036 7.333h0.021c7.776-0.026 14.031-2.396 14.031-7.333 0-0.109 0.005-0.656 0.010-1.161l-4.672 0.453-0.161 2.307c-0.021 0.276-0.24 0.5-0.516 0.516l-5.578 0.396c-0.271 0-0.51-0.198-0.552-0.474l-0.318-2.156h-4.516l-0.318 2.156c-0.042 0.286-0.297 0.495-0.594 0.474l-5.531-0.396c-0.276-0.021-0.5-0.24-0.521-0.516l-0.156-2.307-4.672-0.448z"/></svg>)

export function Project(props:ProjectProps) {
    let imageJsx = (
        <img className="project-img" src={props.image} alt="project-img"></img>
    )

    return (
        <div className={"project" + (props.reversed ? " reversed" : "")}>
            <div className="project-text">
                <h2 className="project-title">{props.title}</h2>
                <br></br>
                <p className="project-description">
                    {props.description}
                </p>
                <br></br>
                <div className="project-icons">
                    { props.technos.map((techno) => (
                        technosTable.has(techno) ?
                        <ProjectIcon key={techno} iconSrc="">{technosTable.get(techno)}</ProjectIcon> : 
                        <ProjectIcon key={techno} iconSrc={'bxl  bx-' + techno}></ProjectIcon>
                    ))}
                </div>
            </div>
            <div className="project-img-container">
                { props.url ? (
                    <a href={props.url} target="_blank">{imageJsx}</a>
                ) : imageJsx}
            </div>
        </div>
    )
}